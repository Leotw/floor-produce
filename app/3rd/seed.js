!function(){window.$$={extend:function(t,a){for(var e in a)a.hasOwnProperty(e)&&(t[e]=a[e])}}}(),function(){var t=navigator.userAgent;$$.extend($$,{getQueryString:function(t,a){var e=new RegExp("[&,?]"+t+"=([^\\&]*)","i"),l=e.exec(a||location.search);return l?l[1]:""},getQueryMap:function(t){var a,e,l={},o=/[\?\&][^\?\&]+=[^\?\&#]+/g,n=/[\?\&]([^=\?]+)=([^\?\&#]+)/;if(t=t||location.href,a=t.match(o),!a)return l;for(var c=0,r=a.length;c<r;c++)e=a[c].match(n),null!==e&&(l[e[1]]=e[2]);return l},isMobile:function(){return/Mobile/i.test(t)},isAndroid:function(){return/Android/i.test(t)},isiOS:function(){return/iPhone OS/i.test(t)},isiPhone:function(){return/iPhone/i.test(t)},isiPad:function(){return/iPad/i.test(t)},isBrowser:function(){return!$$.isNative()},isNative:function(){return/WebView/i.test(t)}})}(),function(){function t(t){switch($$.Native.loadingFinish(),t.code){case"001":window.requestCount=0;break;case"002":window.requestCount=0,$$.Native.tip("没有连接网络");break;case"003":window.requestCount=0,$$.Native.tip("网络超时");break;case"004":window.requestCount=0;break;default:window.requestCount=0}}var a=Object.prototype.toString,e=Array.prototype.slice,l=0,o=function(){},n=$$.platformAdapter={};$$.extend(n,{_handlers:{},call:function(c){if($$.isNative()){for(var r=e.call(arguments,1),i=null,p=null,f=!1,u={},d=function(a){return function(l){l?t(l):a.apply(window,e.call(arguments,1))}},s=0,$=r.length;s<$;s++)i=r[s],i=i||"","[object Function]"==a.call(i)?(f=!0,p=c+"_"+l++,u=n._handlers,u[p]=d(i),i=p):"[object Object]"==a.call(i)?i=JSON.stringify(i):"[object Array]"==a.call(i)&&(i=JSON.stringify(i)),$$.isAndroid()&&(i=i.toString().replace(/\|/g,"||"),i='"'+i+'"'),r[s]=i;if(f||(p=c+"_"+l++,u=n._handlers,u[p]=d(o),i=p,$$.isAndroid()?r.push('"'+i+'"'):r.push(i)),$$.isAndroid())prompt("call://"+c+"("+r.join("|")+")");else if($$.isiOS())try{window.iOS[c].apply(window.iOS,r)}catch(m){}}},callback:function(t){var l=e.call(arguments,1),o=n._handlers,c=null;c=o[t],c&&"[object Function]"==a.call(c)&&c.apply(window,l)}}),window.__callback=$$.platformAdapter.callback}(),function(){var t=location.href,a="/modules/html/",e=function(){};t=a+t.split("?")[0].split("/modules/html/")[1]||"",$$.Native={openNativeBank:function(t){$$.platformAdapter.call("openNativeBank",t.queryString,t.callback||function(){})},request:function(t){var a=t.data,e=[],l=t.type;if(/^get|post$/.test(l)||(l="get"),l&&"post"===l.toLowerCase())a&&"object"==typeof a&&(a=JSON.stringify(a));else if(a&&"object"==typeof a){for(var o in a)try{e.push(o+"="+encodeURIComponent(decodeURIComponent(a[o])))}catch(n){e.push(o+"="+encodeURIComponent(a[o]))}a=e.join("&")}$$.platformAdapter.call("request",t.url,l,a,t.success,t.error)},requestThird:function(t){var a=t.data,e=[],l=t.type;if(/^get|post$/.test(l)||(l="get"),l&&"post"===l.toLowerCase())a&&"object"==typeof a&&(a=JSON.stringify(a));else if(a&&"object"==typeof a){for(var o in a)try{e.push(o+"="+encodeURIComponent(decodeURIComponent(a[o])))}catch(n){e.push(o+"="+encodeURIComponent(a[o]))}a=e.join("&")}$$.platformAdapter.call("requestThird",t.url,l,a,t.success,t.error)},requestNoHud:function(t){var a=t.data,e=[],l=t.type;if(/^get|post$/.test(l)||(l="get"),l&&"post"===l.toLowerCase())a&&"object"==typeof a&&(a=JSON.stringify(a));else if(a&&"object"==typeof a){for(var o in a)try{e.push(o+"="+encodeURIComponent(decodeURIComponent(a[o])))}catch(n){e.push(o+"="+encodeURIComponent(a[o]))}a=e.join("&")}$$.platformAdapter.call("requestNoHud",t.url,l,a,t.success,t.error)},get:function(t){t.type="get",$$.Native.request(t)},post:function(t){t.type="post",$$.Native.request(t)},forward:function(t){var e=t.data,l=t.url,o=t.title||"",n=t.type||"local";if(/^https*:\/\//.test(l)||/^\/modules\/html\//gi.test(l)||(l=a+l),e&&(e=$.param(e),l+=l.indexOf("?")>-1?"&"+e:"?"+e),l&&l.indexOf("?")>-1){var c=[],r=l.split("?")[0],i=$$.getQueryMap(l);for(var p in i){var f="";try{f=decodeURIComponent(i[p])}catch(u){f=i[p]}c.push(p+"="+encodeURIComponent(f))}l=r+"?"+c.join("&")}XX.C.loginFilter(l,o,function(){l=l.replace(/(%2F)/gi,"/"),n&&"local"==n?$$.platformAdapter.call("forward",o,l):$$.platformAdapter.call("forward",o,l,n)})},back:function(t){var e="",l="";t&&t.url&&(e=t.url,/^https*:\/\//.test(e)||(e=a+e)),t&&t.data&&(l=t.data),$$.platformAdapter.call("back",e||"",l||"")},setHeader:function(t){$$.platformAdapter.call("setHeader",t.title||"",!!t.isBack,t.backCallback||e,!!t.isClose,t.closeCallback||"")},keyboard:function(t){$$.Native.hideSysKeyboard(),$$.platformAdapter.call("keyboard",t.keyPressCallback,t.completeCallback,t.defaultValue)},closeKeyboard:function(){$$.platformAdapter.call("closeKeyboard")},getSavePassword:function(t){$$.platformAdapter.call("getSavePassword",t.timestamp,t.callback,t.publicKey,t.password)},cleanPassword:function(){$$.platformAdapter.call("cleanPassword")},viewDisappear:function(){$$.platformAdapter.call("viewDisappear")},loadingBegin:function(t){var a=!0,e="";t&&(a=t.isCancel,e=t.msg),$$.platformAdapter.call("loadingBegin",a,e)},loadingFinish:function(){$$.platformAdapter.call("loadingFinish")},tip:function(t){var a,e=3500;t&&"object"==typeof t?(t.text&&(a=t.text),t.time&&(e=t.time)):a=t||"",$$.platformAdapter.call("tip",a,e)},alert:function(a){$$.platformAdapter.call("alert",a.url||t,a.text,a.btnText,a.btnCallback||e)},confirm:function(a){$$.platformAdapter.call("confirm",a.url||t,a.text,a.leftBtnText,a.leftBtnCallback||e,a.rightBtnText,a.rightBtnCallback)},pullDown:function(t){$$.platformAdapter.call("pullDown",t.callback||e)},closePullDown:function(){$$.platformAdapter.call("closePullDown")},hidePullDownAnim:function(){$$.platformAdapter.call("hidePullDownAnim")},pullUp:function(t){$$.platformAdapter.call("pullUp",t.callback||e)},closePullUp:function(){$$.platformAdapter.call("closePullUp")},hidePullUpAnim:function(){$$.platformAdapter.call("hidePullUpAnim")},setData:function(t){$$.platformAdapter.call("setData",t.name,JSON.stringify(t.value),t.callback||e)},getData:function(t){$$.platformAdapter.call("getData",t.name,function(a){try{a=JSON.parse(a)}catch(e){}t.callback(a)})},setLocalData:function(t){var a=t.value;"object"==typeof a&&(a=JSON.stringify(t.value)),$$.platformAdapter.call("setLocalData",t.name,a,t.callback||e)},getLocalData:function(t){$$.platformAdapter.call("getLocalData",t.name,function(a){try{"string"!=typeof a||"{"!==a.substr(0,1)&&"["!==a.substr(0,1)||(a=JSON.parse(a))}catch(e){}t.callback(a)})},requestImage:function(t){$$.platformAdapter.call("requestImage",t.url,function(a){t.callback(a)})},removeData:function(t){$$.platformAdapter.call("removeData",t.name,t.callback||e)},clearData:function(t){$$.platformAdapter.call("clearData",t.callback||e)},removeLocalData:function(t){$$.platformAdapter.call("removeLocalData",t.name,t.callback||e)},clearLocalData:function(t){$$.platformAdapter.call("clearLocalData",t.callback||e)},clearAppointData:function(t){var a=t.data||null,l="function"==typeof t.callback?t.callback:e();null!==a&&(a=JSON.stringify(a)),$$.platformAdapter.call("clearAppointData",a,l)},getDeviceInfo:function(t){$$.platformAdapter.call("getDeviceInfo",t.callback)},getDial:function(a){var e=a.data||"";e&&JSON.stringify(e),$$.platformAdapter.call("getDial",a.url||t,e,a.defaultId||"",a.changeCallback||"",a.leftBtnText||"",a.leftBtnCallback,a.completeText,a.completeCallback)},hideSysKeyboard:function(){$$.platformAdapter.call("hideSysKeyboard")},selectBankOfDeposit:function(a){$$.platformAdapter.call("selectBankOfDeposit",a.url||t,a.list,a.callback)},selectBankOfCity:function(a){$$.platformAdapter.call("selectBankOfCity",a.url||t,a.historyList,a.cityList,a.callback)},selectBranch:function(a){$$.platformAdapter.call("selectBranch",a.url||t,a.city,a.list,a.callback)},anyDoorLoginSuccess:function(t){$$.platformAdapter.call("anyDoorLoginSuccess",t.ssoTicket,t.sessionSecret,t.mamcId,t.isAnydoor,t.isOpenAnydoor)},onAnyDoorEvent:function(t){$$.platformAdapter.call("onAnyDoorEvent",t.adr_title,t.url,t.callback)},openAnyDoorPlugin:function(t){$$.platformAdapter.call("openAnyDoorPlugin",t.adr_pluginUid,t.params)},setToolBox:function(t){XX.C.getUserInfo(function(a){var e="未登录",l={};a&&a.UserId&&(e=a.UserId),XX.C.getUserLoginType(function(a){var o="未登录";if(a&&a.LoginType)switch(a.LoginType){case"D":o="直销银行客户";break;case"C":o="证书客户";break;case"O":o="令牌客户";break;case"R":o="大众版客户"}l.UserType=o,l.UserId=e;var n=JSON.stringify(l);$$.platformAdapter.call("setToolBox",t.data||"",n)})})},moduleReady:function(t){$$.platformAdapter.call("moduleReady",t.moduleId||"")},backToRootModule:function(t){var a=e,l="";t&&t.moduleId&&(l=t.moduleId),t&&t.callback&&(a=t.callback),$$.platformAdapter.call("backToRootModule",l,a)},changeMenu:function(t){$$.platformAdapter.call("changeMenu",t)},logoutCallAnyDoor:function(){$$.platformAdapter.call("logoutCallAnyDoor")},appVersion:function(t){$$.platformAdapter.call("appVersion",t.callback||e)},updateApp:function(t){callback=t.callback||e,$$.platformAdapter.call("updateApp",callback)},TDOnEvent:function(t,a,e){XX&&XX.C&&XX.C.getUserInfo(function(l){var o="未登录",n={},c=e||{};l&&l.UserId&&(o=l.UserId),XX.C.getUserLoginType(function(e){var l="未登录";if(e&&e.LoginType)switch(e.LoginType){case"D":l="直销银行客户";break;case"C":l="证书客户";break;case"O":l="令牌客户";break;case"R":l="大众版客户"}n.UserType=l,n.UserId=o,c&&c.PluginId&&(n.PluginId=c.PluginId),c&&c.Loc&&(n.Loc=c.Loc),$$.platformAdapter.call("TDOnEvent",t||"",a||"",JSON.stringify(n))})})},updateTab:function(t){_.isEmpty(t)?$$.platformAdapter.call("updateTab",""):$$.platformAdapter.call("updateTab",JSON.stringify(t))},updateAnydoor:function(t){var a=t.callback||e;$$.platformAdapter.call("updateAnydoor",a)},payByPingAnFu:function(t){var a=t.callback||e;$$.platformAdapter.call("payByPingAnFu",t.tranCode,a,t.params)},getHealthyWalkData:function(t){$$.platformAdapter.call("getHealthyWalkData",t.flag,t.callback)},copyToPasteboard:function(t){$$.platformAdapter.call("copyToPasteboard",t.content)},copyToPasteboard:function(t){$$.platformAdapter.call("copyToPasteboard",t.content)},listenH5Event:function(t){$$.platformAdapter.call("TDOnEvent",t)},dialUp:function(t){$$.platformAdapter.call("dialing",t.phoneNum)},hudState:function(t){$$.platformAdapter.call("hudState",t)},selectDate:function(t){var t=t||{},a=t.format||"y-m-d",l=t.yearStart||"2000",o=t.yearEnd||"2050",n=t.currentDate||"",c=t.leftBtnCallback||e,r=t.rightBtnCallback||e;$$.platformAdapter.call("selectDate",a,l,o,n,c,r)},callAMapServerWithData:function(t,a){$$.platformAdapter.call("callAMapServerWithData",t,a,e)},settingSwipLock:function(t){$$.platformAdapter.call("settingSwipLock",t.directory,t.param,t.callback)},setAgeAndSex:function(t){var t=t||{},a=t.personAge,l=t.personSex,o=t.leftBtnCallback||e,n=t.rightBtnCallback||e;$$.platformAdapter.call("selectAgeAndSex",a,l,o,n)},getAgeAndSex:function(t){var t=t||{},a=t.rightBtnCallback||e;$$.platformAdapter.call("getUserAgeAndSexWithCallBack",a)},jumpGoodDoctorWithCallBack:function(){$$.platformAdapter.call("jumpGoodDoctorWithCallBack")},selectPhotoCounts:function(t){var t=t||{},a=t.photoCounts,e=t.cancelCallback,l=t.confirmCallback;$$.platformAdapter.call("selectPhotoCounts",a,e,l)},choosePhotoCounts:function(t){var t=t||{},a=t.photoCounts,e=t.cancelCallback,l=t.confirmCallback,o=t.functionSign;$$.platformAdapter.call("choosePhotoCounts",o,a,l,e)},upLoadOpinion:function(t){var t=t||{},a=t.questionModule,e=t.questionDescribe,l=t.callback;$$.platformAdapter.call("upLoadOpinion",a,e,l)},opinionUpLoadImages:function(t){var t=t||{},a=t.url,e=t.functionSign,l=t.imagePathJson,o=t.cancelCallback,n=t.confirmCallback;$$.platformAdapter.call("opinionUpLoadImages",a,e,l,n,o)},saveCurrentPageMessage:function(t){var t=t||{},a=t.moduleName,e=t.currentPage;$$.platformAdapter.call("saveCurrentPageMessage",a,e)},selectPhotoWithCallBack:function(t){var t=t||{},a=t.cancelCallback,e=t.confirmCallback;$$.platformAdapter.call("selectPhotoWithCallBack",a,e)},viewPhotoByType:function(t){var t=t||{},a=t.mainPaths,e=t.index,l=t.confirmCallback;$$.platformAdapter.call("viewPhotoByType",a,e,l)},getNativeUser:function(t){var t=t||{},a=t.param,e=t.confirmCallback;$$.platformAdapter.call("getLocalData",a,e)},deleteSymptomWithName:function(t){$$.platformAdapter.call("deleteSymptomWithName",t)},clearSymptomWithCallback:function(){$$.platformAdapter.call("clearSymptomWithCallback")},uploadNoHud:function(t){var a=t.data,e=[],l=t.type;if(/^get|post$/.test(l)||(l="get"),l&&"post"===l.toLowerCase())a&&"object"==typeof a&&(a=JSON.stringify(a));else if(a&&"object"==typeof a){for(var o in a)try{e.push(o+"="+encodeURIComponent(decodeURIComponent(a[o])))}catch(n){e.push(o+"="+encodeURIComponent(a[o]))}a=e.join("&")}"SymptomSign"===t.sign?$$.platformAdapter.call("uploadNoHud",t.url,t.sign,a,t.success,t.error):"InjurySign"===t.sign&&$$.platformAdapter.call("uploadJobCompensation",t.url,t.sign,a,t.success,t.error)},uploadImages:function(t){var a=t.data,e=[],l=t.type;if(/^get|post$/.test(l)||(l="get"),l&&"post"===l.toLowerCase())a&&"object"==typeof a&&(a=JSON.stringify(a));else if(a&&"object"==typeof a){for(var o in a)try{e.push(o+"="+encodeURIComponent(decodeURIComponent(a[o])))}catch(n){e.push(o+"="+encodeURIComponent(a[o]))}a=e.join("&")}$$.platformAdapter.call("uploadImages",t.url,l,a,t.success,t.error)},jumpToHealthyYun:function(){$$.platformAdapter.call("jumpToHealthyYun",e)},getCityName:function(t){$$.platformAdapter.call("getCityName",t)},jumpToHealthyWalk:function(){$$.platformAdapter.call("jumpToHealthyWalk",e)},shareImageURL:function(t){$$.platformAdapter.call("shareImageURL",t.imageURL,t.title,t.content,t.url,t.callback)},uploadPhoto:function(t){$$.platformAdapter.call("uploadPhoto",t.path,t.callback)},callAMapServerForShaoxing:function(t){$$.platformAdapter.call("callAMapServerForShaoxing",t.jsonString,t.defaultCallback)},uploadCityCardPhoto:function(t){$$.platformAdapter.call("uploadCityCardPhoto",t.path,t.callback)},getPersonalInfo:function(t){$$.platformAdapter.call("getPersonalInfo",t.flag,t.callback)},getCurrentLocation:function(t){var a=t.callback||e;$$.platformAdapter.call("getCurrentLocation",a)},jumpToFollowUpWithTime:function(t){var a=t.callback||e;$$.platformAdapter.call("jumpToFollowUpWithTime",t.time,t.sex,t.idCard,t.patientName,t.chronicVisitId,t.disease,t.visitContent,a)},selectDateStyleInjure:function(t){var t=t||{},a=t.defaultDate||"",l=t.leftBtnCallback||e,o=t.rightBtnCallback||e;$$.platformAdapter.call("selectDateStyleInjure",a,l,o)},selectDateStyle:function(t){var t=t||{},a=t.defaultDate,e=t.title,l=t.cancelCallback,o=t.confirmCallback;$$.platformAdapter.call("selectDateStyle",a,e,l,o)},interectWithNative:function(t){var t=t||{},a=t.functionName||"",l=t.params||[],o=t.callback||e;$$.platformAdapter.call("interectWithH5",a,l,o)},hideSoftInput:function(t){var a=t.callback;$$.platformAdapter.call("hideSoftInput",a)},getFaceDetectedResult:function(t){$$.platformAdapter.call("getFaceDetectedResult",t.moduleUrl,t.type,t.callback)},getPersonUserID:function(t){$$.platformAdapter.call("getPersonUserID",t.regionCode,t.callback)},startCerDetail:function(t){$$.platformAdapter.call("startCerDetail",t)},sendImgSrc:function(t,a){$$.platformAdapter.call("sendImgSrc",t,a)},talkingNew:function(t,a,l,o){var o=o||e;$$.platformAdapter.call("TDOnEvent",t||"",a||"",JSON.stringify(l),o)},getLocalField:function(t,a){$$.platformAdapter.call("getLocalField",t,a)},getDefaultCity:function(t){$$.platformAdapter.call("getDefaultCity",{},t.callback)},openCityMap:function(t){$$.platformAdapter.call("openCityMap",t)},dialPhone:function(t){$$.platformAdapter.call("dialPhone",t.param)},Confirm:function(t){var t=t||{},a=t.url||"",l=t.text||"",o=t.leftBtntext||"取消",n=t.leftBtnCallback||e,c=t.rightBtntext||"确定",r=t.rightBtnCallback||e;$$.platformAdapter.call("confirm",a,l,o,n,c,r)}}}(),function(){$$.EventListener={back:function(){var t=angular&&"function"==typeof angular.element&&angular.element(document.getElementById("viewContent")).scope();t.back()},jumpToUrl:function(t,a){var e=angular.element(document.getElementById("viewContent")).scope();e.jumpToState(t,a)},jumpPreviousPage:function(t){history.go(-1)}}}();